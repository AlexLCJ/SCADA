<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Z-TEK 综合工业监控系统 V4.4 (压强修复版)</title>
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* --- 工业字体与核心样式 --- */
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap');

        :root {
            --color-bg: #0f1115;
            --color-panel: #181b21;
            --color-border: #2a2e37;
            --color-text-main: #e0e0e0;
            --color-text-dim: #6b7280;
            --accent-temp: #10b981; /* Green */
            --accent-press: #f59e0b; /* Amber */
            --accent-level: #3b82f6; /* Blue */
            --danger: #ef4444;
        }

        body {
            background-color: var(--color-bg);
            color: var(--color-text-main);
            font-family: 'Roboto', sans-serif;
            overflow: hidden; /* 禁止滚动 */
            user-select: none;
        }

        /* LED 数字显示风格 */
        .digital-readout {
            font-family: 'Share Tech Mono', monospace;
            letter-spacing: 0.05em;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
            background: #000;
            border: 1px solid #333;
            padding: 0.1em 0.3em;
            border-radius: 4px;
            display: inline-block;
        }

        /* 统一面板样式 */
        .panel {
            background-color: var(--color-panel);
            border: 1px solid var(--color-border);
            border-radius: 4px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.4);
            display: flex;
            flex-direction: column;
            transition: border-color 0.3s;
        }

        .panel-header {
            background: linear-gradient(to right, #1f2329, #181b21);
            border-bottom: 1px solid var(--color-border);
            padding: 8px 12px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--color-text-dim);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .panel-header::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: currentColor;
            border-radius: 50%;
            margin-right: 8px;
            box-shadow: 0 0 5px currentColor;
        }
        
        /* 状态指示灯颜色 */
        .status-normal .panel-header { color: var(--accent-temp); }
        .status-warn .panel-header { color: var(--accent-press); }
        .status-alert .panel-header { color: var(--danger); }
        .status-alert { border-color: var(--danger); } /* 报警时边框变红 */

        /* 垂直液罐 */
        .tank-container {
            background: #0a0a0a;
            border: 2px solid #333;
            position: relative;
            overflow: hidden;
            border-radius: 4px;
            box-shadow: inset 0 0 20px #000;
        }
        
        .tank-fluid {
            background: linear-gradient(to top, var(--accent-level) 0%, #60a5fa 100%);
            opacity: 0.8;
            transition: height 0.2s linear;
            box-shadow: 0 0 20px var(--accent-level);
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
        }

        /* 实体物理按钮模拟 */
        .control-btn {
            border: none;
            border-radius: 6px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 0 rgba(0,0,0,0.5), 0 5px 10px rgba(0,0,0,0.3);
            transition: all 0.1s;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .control-btn:active:not(:disabled) {
            transform: translateY(4px);
            box-shadow: 0 0 0 rgba(0,0,0,0.5), inset 0 2px 5px rgba(0,0,0,0.3);
        }
        
        .control-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            filter: grayscale(100%);
        }

        .btn-start { background: linear-gradient(#15803d, #14532d); color: #86efac; border: 1px solid #166534; }
        .btn-stop { background: linear-gradient(#b91c1c, #7f1d1d); color: #fca5a5; border: 1px solid #991b1b; }
        .btn-cool { background: linear-gradient(#0369a1, #075985); color: #bae6fd; border: 1px solid #0284c7; }
        .btn-cool.active { background: linear-gradient(#0ea5e9, #0284c7); box-shadow: 0 0 15px #0ea5e9; border-color: #38bdf8; color: white; }
        .btn-reset { background: linear-gradient(#ca8a04, #854d0e); color: #fde047; border: 1px solid #a16207; }

        /* 指示灯 */
        .led-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #333;
            border: 1px solid #444;
            transition: all 0.3s;
        }
        .led-on {
            background-color: #00ff00;
            box-shadow: 0 0 8px #00ff00;
            border-color: #00ff00;
        }
        
        /* Grid 刻度线 */
        .grid-lines {
            background-image: 
                linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
            background-size: 20px 20px;
        }
    </style>
</head>
<body class="h-screen flex flex-col p-3">

    <!-- Header -->
    <header class="flex-none bg-gray-900 border-b border-gray-800 pb-3 mb-3 flex justify-between items-end">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-800 rounded flex items-center justify-center text-xl font-black shadow-lg">Z</div>
            <div>
                <h1 class="text-xl font-bold tracking-widest text-gray-200">Z-TEK <span class="text-blue-500">INDUSTRIAL</span></h1>
                <div class="text-xs text-gray-500 font-mono tracking-wider">UNIT: MULTI-VAR-SIMULATOR-04</div>
            </div>
        </div>
        <div class="flex items-center gap-6 font-mono text-sm">
            <div class="flex flex-col items-end">
                <span class="text-xs text-gray-600">SYSTEM STATE</span>
                <span id="sys-state-text" class="text-red-500 font-bold">STOPPED</span>
            </div>
            <div class="text-right">
                <div class="text-xs text-gray-600">LOCAL TIME</div>
                <div id="clock" class="text-gray-300">00:00:00</div>
            </div>
        </div>
    </header>

    <!-- Main Content Grid -->
    <main class="flex-1 grid grid-cols-12 gap-3 min-h-0">
        
        <!-- 左侧 Dashboard (数据区) col-span-9 -->
        <section class="col-span-9 grid grid-rows-2 gap-3 min-h-0">
            
            <!-- 上半部分：主温度监控 -->
            <div class="panel row-span-1 p-0 relative overflow-hidden status-normal" id="panel-temp">
                <div class="panel-header">
                    <span>Main Furnace Temp (PV)</span>
                    <span class="text-xs font-mono opacity-50">T-101</span>
                </div>
                <div class="flex-1 flex relative">
                    <!-- 左侧：大数字 -->
                    <div class="w-1/3 border-r border-gray-800 flex flex-col items-center justify-center p-4 bg-black">
                        <span class="text-xs text-gray-500 mb-2 font-mono w-full text-left">CURRENT VALUE (°C)</span>
                        <div class="flex items-baseline gap-2">
                            <!-- 核心识别目标 1 -->
                            <span id="val-temp" class="digital-readout text-8xl text-green-500 font-bold">000</span>
                        </div>
                        <div class="w-full mt-6">
                            <div class="flex justify-between text-xs text-gray-500 font-mono mb-1">
                                <span>0</span>
                                <span>MAX: 150</span>
                            </div>
                            <!-- 温度进度条 -->
                            <div class="h-3 bg-gray-800 rounded-full overflow-hidden border border-gray-700">
                                <div id="bar-temp" class="h-full bg-green-600 w-0 transition-all duration-300"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 右侧：曲线图 -->
                    <div class="flex-1 bg-gray-900 relative grid-lines">
                        <canvas id="chart-temp" class="w-full h-full block"></canvas>
                        <div class="absolute top-2 right-2 text-xs font-mono text-green-500 bg-black/50 px-2 rounded border border-green-900">
                            LIVE TREND (10s)
                        </div>
                    </div>
                </div>
            </div>

            <!-- 下半部分：压力与液位 -->
            <div class="row-span-1 grid grid-cols-2 gap-3">
                
                <!-- 压力监控 (修改部分：引入 Needle) -->
                <div class="panel status-warn" id="panel-press">
                    <div class="panel-header">
                        <span>Chamber Pressure</span>
                        <span class="text-xs font-mono opacity-50">P-202</span>
                    </div>
                    <div class="flex-1 bg-black flex flex-col items-center justify-center p-4 relative">
                        <!-- 仪表盘容器 -->
                        <div class="relative w-48 h-24 mb-4 overflow-hidden">
                            <!-- 背景圆弧槽 -->
                            <div class="absolute w-40 h-40 border-[15px] border-gray-800 rounded-full top-0 left-4 box-border"></div>
                            
                            <!-- 装饰：刻度线 -->
                            <div class="absolute w-44 h-44 rounded-full top-[-8px] left-[8px] border border-gray-700 opacity-50"></div>

                            <!-- 指针 (Needle) - 旋转中心在圆心 -->
                            <!-- 左边距计算: w-48(192px), 中心96px. Needle宽4px, left: 94px.
                                 高度计算: 圆心在top 80px处 (w-40/2). 指针长度75px. top: 5px.
                             -->
                            <div id="gauge-needle" class="absolute w-1 h-[75px] bg-red-500 origin-bottom transition-transform duration-100 ease-out" 
                                 style="left: 96px; top: 5px; transform: rotate(-90deg);"></div>
                            
                            <!-- 圆心遮罩 -->
                            <div class="absolute w-6 h-6 bg-gray-600 rounded-full top-[72px] left-[93px] border-2 border-black z-10"></div>
                        </div>
                        
                        <div class="text-center z-10 -mt-8">
                            <!-- 核心识别目标 2 -->
                            <span id="val-press" class="digital-readout text-5xl text-amber-500">00.0</span>
                            <div class="text-gray-500 text-sm font-mono mt-1">MPa</div>
                        </div>

                        <div class="w-full flex justify-between px-8 text-xs text-gray-600 font-mono mt-4">
                            <span>0.0</span>
                            <span id="press-alert-label">CRITICAL: 4.0</span>
                        </div>
                    </div>
                </div>

                <!-- 液位监控 -->
                <div class="panel status-normal" id="panel-level">
                    <div class="panel-header">
                        <span>Coolant Level</span>
                        <span class="text-xs font-mono opacity-50">L-303</span>
                    </div>
                    <div class="flex-1 bg-gray-900 flex p-4 gap-6 items-center">
                        <div class="h-full w-24 tank-container relative">
                            <div class="absolute right-0 top-0 bottom-0 w-full z-10 flex flex-col justify-between py-2 text-[10px] text-gray-500 font-mono text-right pr-1 pointer-events-none">
                                <div class="border-b border-gray-600 w-full">100%</div>
                                <div class="border-b border-gray-600 w-1/2 ml-auto">75%</div>
                                <div class="border-b border-gray-600 w-full">50%</div>
                                <div class="border-b border-gray-600 w-1/2 ml-auto">25%</div>
                                <div class="border-b border-gray-600 w-full">0%</div>
                            </div>
                            <div id="tank-fill" class="tank-fluid h-[0%]"></div>
                        </div>

                        <div class="flex-1 flex flex-col justify-center">
                            <span class="text-xs text-gray-500 font-mono mb-1">VOLUME (%)</span>
                            <!-- 核心识别目标 3 -->
                            <span id="val-level" class="digital-readout text-6xl text-blue-500 w-min">00</span>
                            <div class="mt-4 space-y-2">
                                <div class="flex justify-between text-xs font-mono text-gray-400 border-b border-gray-700 pb-1">
                                    <span>PUMP A</span>
                                    <span id="status-pump" class="text-gray-600">OFF</span>
                                </div>
                                <div class="flex justify-between text-xs font-mono text-gray-400 border-b border-gray-700 pb-1">
                                    <span>VALVE B</span>
                                    <span id="status-valve" class="text-gray-600">CLOSED</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- 右侧 Control Panel (操作区) col-span-3 -->
        <aside class="col-span-3 flex flex-col gap-3 h-full overflow-hidden">
            
            <!-- 手动操作区 -->
            <div class="panel p-4 flex-none bg-[#1a1c23]">
                <div class="mb-4 text-xs font-bold text-gray-500 tracking-widest border-b border-gray-700 pb-2">
                    MANUAL OPERATION
                </div>
                
                <div class="flex flex-col gap-4">
                    <button id="btn-start" onclick="sysStart()" class="control-btn btn-start h-14 text-lg">
                        <div class="led-indicator" id="led-start"></div>
                        START SYSTEM
                    </button>
                    
                    <button id="btn-stop" onclick="sysStop()" class="control-btn btn-stop h-14 text-lg" disabled>
                        <div class="led-indicator" id="led-stop"></div>
                        STOP SYSTEM
                    </button>

                    <!-- 紧急冷却按钮 -->
                    <button id="btn-cool" onmousedown="startCooling()" onmouseup="stopCooling()" onmouseleave="stopCooling()" class="control-btn btn-cool h-16 text-lg mt-2">
                        ⚠ EMERGENCY COOL
                    </button>
                    
                    <button id="btn-reset" onclick="sysReset()" class="control-btn btn-reset h-10 text-sm mt-2">
                        RESET ALARMS
                    </button>
                </div>
            </div>

            <!-- 参数调节区 -->
            <div class="panel flex-1 p-4 min-h-0 flex flex-col">
                <div class="panel-header -mx-4 -mt-4 mb-4 flex-none">
                    <span>Simulation Params</span>
                </div>
                
                <div class="space-y-6 font-mono text-xs flex-none">
                    <div>
                        <div class="flex justify-between text-gray-400 mb-2">
                            <span>TARGET TEMP</span>
                            <span id="label-target-temp" class="text-green-400">80°C</span>
                        </div>
                        <input type="range" id="input-target-temp" min="50" max="120" value="80" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-green-500">
                    </div>

                    <div>
                        <div class="flex justify-between text-gray-400 mb-2">
                            <span>PRESSURE LOAD</span>
                            <span id="label-press-load" class="text-amber-400">1.0x</span>
                        </div>
                        <input type="range" id="input-press-load" min="0.5" max="2.0" step="0.1" value="1.0" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-amber-500">
                    </div>
                </div>

                <!-- 系统日志 -->
                <div class="flex-1 flex flex-col mt-4 min-h-0">
                    <div class="text-gray-500 mb-1 flex-none">EVENT LOG</div>
                    <div id="sys-log" class="flex-1 bg-black border border-gray-700 rounded p-2 text-green-700 font-mono text-[10px] overflow-y-auto">
                        <!-- Logs go here (Top to Bottom) -->
                    </div>
                </div>
            </div>

        </aside>

    </main>

    <script>
        // --- 系统状态 ---
        const sys = {
            running: false,
            manualCooling: false,
            temp: 50.0, 
            targetTemp: 80.0,
            pressure: 0.0,
            pressLoad: 1.0,
            level: 50.0,
            pumpActive: false,
            historyTemp: new Array(100).fill(20.0),
            pressAlarm: false // 压强报警状态
        };

        // --- DOM 元素引用 ---
        const dom = {
            valTemp: document.getElementById('val-temp'),
            barTemp: document.getElementById('bar-temp'),
            valPress: document.getElementById('val-press'),
            panelPress: document.getElementById('panel-press'), // 新增：压强面板引用
            gaugeNeedle: document.getElementById('gauge-needle'), // 新增：指针引用
            valLevel: document.getElementById('val-level'),
            tankFill: document.getElementById('tank-fill'),
            statusPump: document.getElementById('status-pump'),
            statusValve: document.getElementById('status-valve'),
            btnStart: document.getElementById('btn-start'),
            btnStop: document.getElementById('btn-stop'),
            btnCool: document.getElementById('btn-cool'),
            btnReset: document.getElementById('btn-reset'),
            ledStart: document.getElementById('led-start'),
            ledStop: document.getElementById('led-stop'),
            stateText: document.getElementById('sys-state-text'),
            log: document.getElementById('sys-log'),
            chartTemp: document.getElementById('chart-temp'),
            inputTarget: document.getElementById('input-target-temp'),
            inputPress: document.getElementById('input-press-load'),
            labelTarget: document.getElementById('label-target-temp'),
            labelPress: document.getElementById('label-press-load')
        };

        // --- 核心模拟循环 (100ms) ---
        setInterval(() => {
            updatePhysics();
            updateUI();
            updateChart();
            updateClock();
        }, 100);

        // --- 物理逻辑 ---
        function updatePhysics() {
            if (!dom.inputTarget || !dom.inputPress) return;

            sys.targetTemp = parseInt(dom.inputTarget.value);
            dom.labelTarget.innerText = sys.targetTemp + "°C";
            
            sys.pressLoad = parseFloat(dom.inputPress.value);
            dom.labelPress.innerText = sys.pressLoad.toFixed(1) + "x";

            const noise = (Math.random() - 0.5);

            if (sys.running) {
                // 1. 温度逻辑
                let diff = sys.targetTemp - sys.temp;
                let change = (diff * 0.02) + (noise * 0.5);
                
                if (sys.manualCooling) {
                    change = -5.0 + noise;
                }
                sys.temp += change;

                // 2. 压力逻辑 (物理关联：T * 0.04 * Load)
                // 确保温度高时压强能超过4.0
                let targetPress = (sys.temp * 0.04) * sys.pressLoad; 
                sys.pressure += (targetPress - sys.pressure) * 0.1 + (noise * 0.05);

                // 3. 液位逻辑
                if (sys.pumpActive) {
                    sys.level += 0.8; 
                    if (sys.level >= 90) {
                        sys.pumpActive = false;
                        addLog("AUTO: PUMP STOPPED (HIGH LEVEL)");
                    }
                } else {
                    sys.level -= 0.2 * sys.pressLoad; 
                    if (sys.manualCooling) sys.level -= 0.5;

                    if (sys.level <= 20) {
                        sys.pumpActive = true;
                        addLog("AUTO: PUMP STARTED (LOW LEVEL)");
                    }
                }

            } else {
                // 停止状态
                if (sys.temp > 20) sys.temp -= 0.5;
                if (sys.pressure > 0) sys.pressure -= 0.1;
                sys.pumpActive = false;
            }

            // 边界限制
            if (sys.temp < 20) sys.temp = 20;
            if (sys.pressure < 0) sys.pressure = 0;
            if (sys.level < 0) sys.level = 0;
            if (sys.level > 100) sys.level = 100;

            sys.historyTemp.push(sys.temp);
            sys.historyTemp.shift();
        }

        // --- UI 更新逻辑 ---
        function updateUI() {
            // Temp
            dom.valTemp.innerText = Math.floor(sys.temp).toString().padStart(3, '0');
            if (sys.temp > 100) dom.valTemp.className = "digital-readout text-8xl text-red-500 font-bold animate-pulse";
            else dom.valTemp.className = "digital-readout text-8xl text-green-500 font-bold";
            
            dom.barTemp.style.width = Math.min((sys.temp / 150) * 100, 100) + "%";
            if (sys.temp > 100) dom.barTemp.className = "h-full bg-red-600 w-0 transition-all duration-300";
            else dom.barTemp.className = "h-full bg-green-600 w-0 transition-all duration-300";

            // Pressure (Needle Logic)
            dom.valPress.innerText = sys.pressure.toFixed(1).padStart(4, '0');
            
            // 0 MPa = -90deg (左)
            // 2.5 MPa = 0deg (垂直)
            // 5 MPa = 90deg (右)
            const needleRot = (sys.pressure / 5.0) * 180 - 90;
            dom.gaugeNeedle.style.transform = `rotate(${Math.min(Math.max(needleRot, -90), 90)}deg)`;

            // Pressure Alarm Logic (> 4.0 MPa)
            if (sys.pressure > 4.0) {
                if (!sys.pressAlarm) {
                    sys.pressAlarm = true;
                    dom.panelPress.classList.remove('status-warn');
                    dom.panelPress.classList.add('status-alert'); // 变红框
                    dom.valPress.classList.remove('text-amber-500');
                    dom.valPress.classList.add('text-red-500', 'animate-pulse'); // 变红字+闪烁
                    addLog("ALARM: PRESSURE CRITICAL (>4.0 MPa)");
                }
            } else {
                if (sys.pressAlarm) {
                    sys.pressAlarm = false;
                    dom.panelPress.classList.remove('status-alert');
                    dom.panelPress.classList.add('status-warn'); // 恢复琥珀色
                    dom.valPress.classList.remove('text-red-500', 'animate-pulse');
                    dom.valPress.classList.add('text-amber-500');
                }
            }

            // Level
            dom.valLevel.innerText = Math.floor(sys.level).toString().padStart(2, '0');
            dom.tankFill.style.height = sys.level + "%";
            
            dom.statusPump.innerText = sys.pumpActive ? "RUNNING" : "IDLE";
            dom.statusPump.className = sys.pumpActive ? "text-green-500 font-bold" : "text-gray-600";
            
            dom.statusValve.innerText = sys.running ? "OPEN" : "CLOSED";
            dom.statusValve.className = sys.running ? "text-blue-500 font-bold" : "text-gray-600";
        }

        // --- 绘图逻辑 ---
        function updateChart() {
            const ctx = dom.chartTemp.getContext('2d');
            const w = dom.chartTemp.width = dom.chartTemp.offsetWidth;
            const h = dom.chartTemp.height = dom.chartTemp.offsetHeight;

            ctx.clearRect(0, 0, w, h);
            ctx.beginPath();
            ctx.strokeStyle = sys.temp > 100 ? '#ef4444' : '#10b981';
            ctx.lineWidth = 3;
            ctx.lineJoin = 'round';

            const step = w / (sys.historyTemp.length - 1);
            const maxVal = 150;

            sys.historyTemp.forEach((val, i) => {
                const x = i * step;
                const y = h - ((val / maxVal) * h);
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            });
            ctx.stroke();

            ctx.lineTo(w, h);
            ctx.lineTo(0, h);
            ctx.fillStyle = sys.temp > 100 ? 'rgba(239, 68, 68, 0.2)' : 'rgba(16, 185, 129, 0.1)';
            ctx.fill();
        }

        // --- 控制逻辑 ---
        function sysStart() {
            if (sys.running) return;
            sys.running = true;
            dom.stateText.innerText = "RUNNING";
            dom.stateText.className = "text-green-500 font-bold blink";
            dom.btnStart.disabled = true;
            dom.btnStop.disabled = false;
            dom.ledStart.classList.add('led-on');
            dom.ledStop.classList.remove('led-on');
            addLog("CMD: SYSTEM STARTED");
        }

        function sysStop() {
            if (!sys.running) return;
            sys.running = false;
            dom.stateText.innerText = "STOPPED";
            dom.stateText.className = "text-red-500 font-bold";
            dom.btnStart.disabled = false;
            dom.btnStop.disabled = true;
            dom.ledStart.classList.remove('led-on');
            dom.ledStop.classList.add('led-on');
            addLog("CMD: SYSTEM STOPPED");
        }

        function startCooling() {
            if (!sys.running) return;
            sys.manualCooling = true;
            dom.btnCool.classList.add('active');
            addLog("WARN: EMERGENCY COOLING ACTIVE");
        }
        function stopCooling() {
            sys.manualCooling = false;
            dom.btnCool.classList.remove('active');
        }

        function sysReset() {
            sys.temp = 20;
            sys.pressure = 0;
            sys.level = 50;
            sys.historyTemp.fill(20);
            dom.log.innerHTML = "";
            addLog("CMD: SYSTEM RESET");
        }

        function updateClock() {
            const now = new Date();
            const clockEl = document.getElementById('clock');
            if(clockEl) clockEl.innerText = now.toLocaleTimeString('en-GB');
        }

        function addLog(msg) {
            const time = new Date().toLocaleTimeString('en-GB');
            const div = document.createElement('div');
            div.innerText = `[${time}] ${msg}`;
            dom.log.prepend(div);
            if (dom.log.children.length > 30) dom.log.lastElementChild.remove();
        }

        // Init
        addLog("SYSTEM POWER ON. STANDBY.");
        setTimeout(updateChart, 100);

    </script>
</body>
</html>
